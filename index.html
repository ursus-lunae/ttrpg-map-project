<!DOCTYPE html>
<html>
<head>
    <title>Evergreen Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        /* This chosen background color acts as the "land" */
        #map { height: 100vh; width: 100vw; background-color: #a7b099; }
        body { margin: 0; }
    </style>
</head>
<body>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="locations.js"></script>

    <script>
        // 2. SETUP MAP
        const map = L.map('map', {
            crs: L.CRS.Simple,
        });

        const w = 2000, h = 2000;
        const bounds = [[0, 0], [h, w]];
        const initialZoom = map.getBoundsZoom(bounds);

        // Define the "Play Area" boundaries
        map.fitBounds(bounds);
        map.fitBounds(bounds, { padding: [50, 50] });
        map.setMaxBounds(bounds);
        map.options.minZoom = initialZoom - 3;

        // Center the view on our virtual board
        map.fitBounds(bounds);

        // 3. ADD SHAPES (Territories/Zones)
        // Draw a circle (e.g., a "Zone of Influence")
        L.circle([0, 0], {
            color: '#ffffff',
            fillOpacity: 0,
            radius: 1000 // This is in Leaflet units
        }).addTo(map).bindPopup("The Fingerbog");

        // 4. LOAD PINS FROM locations.js
        poiData.forEach(function(poi) {
            L.marker(poi.coords)
                .addTo(map)
                .bindPopup(`<b>${poi.name}</b><br>${poi.description}<br>${poi.type}`);
        });

        // Developer Tool: Click to get coordinates in Console (F12)
        map.on('click', function(e) {
            console.log("Add this to locations.js: [" + e.latlng.lat + ", " + e.latlng.lng + "]");
        });
    </script>
</body>
</html>
