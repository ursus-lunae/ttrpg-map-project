<!DOCTYPE html>
<html>
<head>
    <title>Evergreen Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        #map { height: 100vh; width: 100vw; background-color: #a7b099; }
        body { margin: 0; }
    </style>
</head>
<body>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // 1. Setup the Map for a "Flat" image
        const map = L.map('map', {
            crs: L.CRS.Simple,
            minZoom: -2
        });

        // 2. Define your image dimensions (in pixels)
        const w = 2000, h = 2000; 
        const url = 'map-image.jpg'; // Replace with your file name

        // 3. Set the map boundaries
        const southWest = map.unproject([0, h], map.getMaxZoom());
        const northEast = map.unproject([w, 0], map.getMaxZoom());
        const bounds = new L.LatLngBounds(southWest, northEast);

        // 4. Add the image to the map
        L.imageOverlay(url, bounds).addTo(map);
        map.setMaxBounds(bounds);
        map.setView([0, 0], -1);

        // 5. Example Pin
        // Note: Coordinates in CRS.Simple are [y, x]
        const tavern = L.marker([-500, 800]).addTo(map);
        tavern.bindPopup("<b>The Rusty Dragon</b><br>The best ale in the region.");
        
        // Helper to find coordinates (Click map to see coords in console)
        map.on('click', function(e) {
            console.log("Clicked at: " + e.latlng);
        });
    </script>
</body>
</html>
