<!DOCTYPE html>
<html>
<head>
    <title>Evergreen Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        /* This chosen background color acts as the "land" */
        #map { height: 100vh; width: 100vw; background-color: #a7b099; }
        body { margin: 0; }
    </style>
</head>
<body>
    <div id="map"></div>
    <script src="locations.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script>
        // 2. SETUP MAP
        const map = L.map('map', {
            crs: L.CRS.Simple,
            minZoom: -3,
            maxZoom: 0
        });

        const w = 2600, h = 2600;
        const bounds = [
            [-h / 2, -w / 2],
            [ h / 2,  w / 2]
            ];

        // Define the "Play Area" boundaries
        map.fitBounds(bounds, { padding: [50, 50] });
        map.setMaxBounds(bounds);


        // fingerbog svg overlay 
        const fingerbogBounds = [
                [-5000, -2500],
                [ 1500,  5500]
            ];

        L.imageOverlay('fingerbog.svg', fingerbogBounds, { interactive: true }).addTo(map);

        
        // 4. LOAD PINS FROM locations.js

        poiData.forEach(function(poi) {

        var pin = L.divIcon({
                    html: `<div style="text-align:center; width:max-content;">
                            <img src="pin.png" style="width:30px;height:30px;"><br>
                            <span style="font-family: 'Vollkorn';color:white;font-size:12px;">${poi.name}</span>
                        </div>`,
                    className: '', // remove default Leaflet styles
                    iconSize: [38, 80],
                    iconAnchor: [19, 40]
                });

            L.marker(poi.coords, {icon: pin})
                .addTo(map)
                .bindPopup(`<b>${poi.name}</b><br>${poi.description}<br>${poi.type}`);
        });

        // Developer Tool: Click to get coordinates in Console (F12)
        map.on('click', function(e) {
            console.log("Add this to locations.js: [" + e.latlng.lat + ", " + e.latlng.lng + "]");
        });
    </script>
</body>
</html>
