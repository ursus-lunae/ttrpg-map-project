<!DOCTYPE html>
<html>
<head>
    <title>Evergreen Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        /* This chosen background color acts as the "land" */
        #map { height: 100vh; width: 100vw; background-color: #a7b099; }
        body { margin: 0; }
    </style>
</head>
<body>
    <div id="map"></div>

    <script src="locations.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script>
        // 2. SETUP MAP
        const map = L.map('map', {
            crs: L.CRS.Simple,
            minZoom: -2,
            maxZoom: 2
        });

        const w = 2000, h = 2000;
        
        // Define the "Play Area" boundaries
        const southWest = map.unproject([0, h], map.getMaxZoom());
        const northEast = map.unproject([w, 0], map.getMaxZoom());
        const bounds = new L.LatLngBounds(southWest, northEast);

        // Center the view on our virtual board
        map.fitBounds(bounds);
        map.setMaxBounds(bounds); // Prevents panning into the white void

        // 3. ADD SHAPES (Territories/Zones)
        // Draw a circle (e.g., a "Zone of Influence")
        L.circle([0, 0], {
            color: '#ffffff',
            radius: 1000 // This is in Leaflet units
        }).addTo(map).bindPopup("The Whispering Woods");

        // 4. LOAD PINS FROM locations.js
        poiData.forEach(function(poi) {
            L.marker(poi.coords)
                .addTo(map)
                .bindPopup(`<b>${poi.name}</b><br>${poi.description}`);
        });

        // Developer Tool: Click to get coordinates in Console (F12)
        map.on('click', function(e) {
            console.log("Add this to locations.js: [" + e.latlng.lat + ", " + e.latlng.lng + "]");
        });
    </script>
</body>
</html>
